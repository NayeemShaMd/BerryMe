<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <script src="https://npmcdn.com/parse@1.10.0/dist/parse.min.js"></script>

    <!--<script type="text/javascript" src="js/main.js"></script> -->

    <script src="https://code.jquery.com/jquery-1.10.2.js"></script>  


    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">

    <!-- Custom css -->
    <link rel="stylesheet" href="css/style.css">    
    
        <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <!-- Custom JavaScript -->
    <script type="text/javascript" src="js/save_berry.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>



    <title>Berry Me|| Add</title>

<body>

    <section id="navBar">
      <nav class="navbar fixed-top navbar-expand-lg navbar-light menu_bar">
        <a class="navbar-brand logo" href="index.html">
          <img src="img/logo.png" alt="logo">
        </a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarTogglerDemo02">
          
          <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
            <li id="home" class="nav-item">
              <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
            </li>
            <li id="documentation" class="nav-item">
              <a class="nav-link" href="#">Documentation</a>
            </li>
            <li id="yourLoc" class="nav-item">
              <a id="locateMeBtn" class="nav-link" href="map.html">Your Location</a>
            </li>
            <li id="yourLoc" class="nav-item">
              <a id="locateMeBtn" class="nav-link" href="map.html">Find Berry</a>
            </li>
            <!-- <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" href="#" id="findBerry" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                Find Berries
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
                <a onclick="getBerry('all')" id="showAll" class="dropdown-item" href="#"><img class="berry_icon" src="img/berry.png" alt="All">All</a>
                <a onclick="getBerry('Strawberry')" id="showStraw" class="dropdown-item" href="#"><img class="berry_icon" src="img/strawberry.png" alt="Strawberry">Strawberry</a>
                <a onclick="getBerry('RaspBerry')" id="showRasp" class="dropdown-item" href="#"><img class="berry_icon" src="img/raspBerry.png" alt="Raspberry">RaspBerry</a>
                <a onclick="getBerry('Blackberry')" id="showBlack" class="dropdown-item" href="#"><img class="berry_icon" src="img/blackberry.png" alt="Blackberry">Blackberry</a>
                <a onclick="getBerry('Blueberry')" id="showBlue" class="dropdown-item" href="#"><img class="berry_icon" src="img/blueberry.png" alt="Blueberry">Blueberry</a>
                <a onclick="getBerry('Lingonberry')" id="showLingon" class="dropdown-item" href="#"><img class="berry_icon" src="img/lingonberry.png" alt="Lingonberry">Lingonberry</a>
                <a onclick="getBerry('Gooseberry')" id="showGoose" class="dropdown-item" href="#"><img class="berry_icon" src="img/gooseberry.png" alt="Gooseberry">Gooseberry</a>
                <a onclick="getBerry('Cloudberry')" id="showCloud" class="dropdown-item" href="#"><img class="berry_icon" src="img/cloudberry.png" alt="Cloudberry">Cloudberry</a>
              </div>
            </li> -->
            <li class="nav-item">
              <a class="nav-link" href="addberry.html" target="_blank">Add Berry</a>
            </li>
          </ul>
        </div>
      </nav>
    </section>


    <section class="add_berry">
        <div class="card">
          <div class="card-header">
            <h5>ADD BERRY</h5>
          </div>
          <div class="card-body">
            <form>
                <div class="form-group row">
                    <div class="col-md-12">
                        <label for="exampleFormControlSelect1">Select Your Berry</label>
                        <select class="form-control" id="exampleFormControlSelect1" required>
                            <option>Strawberry</option>
                            <option>RaspBerry</option>
                            <option>Blackberry</option>
                            <option>Blueberry</option>
                            <option>Lingonberry</option>
                            <option>Gooseberry</option>
                            <option>Cloudberry</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-12">
                        <div id="locationField">
                            <label for="autocomplete">Type your location</label>
                            <input id="autocomplete" class="form-control" placeholder="Enter your address" onfocus="geolocate()" type="text"></input>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-6">
                        <label for="stateName">State</label>
                        <input type="text" class="form-control" id="locality" placeholder="State" required>
                        <div class="invalid-tooltip">
                            Please provide a valid state.
                        </div>
                    </div>
                    <div class="col-md-6">
                        <label for="zipCode">Zip</label>
                        <input type="text" class="form-control" id="postal_code" placeholder="Zip" required>
                        <div class="invalid-tooltip">
                            Please provide a valid zip.
                        </div>
                    </div>
                    <div class="col-md-6 latlang">
                        <input type="text" class="form-control latlang" id="lat" name="lat" value="" placeholder="latitude">
                    </div>
                    <div class="col-md-6 latlang">
                        <input type="text" class="form-control" id="lang" name="lang" value="" placeholder="longitude">
                    </div>
                </div>
                
                <div class="form-group row">
                    <div class="col-md-12">
                        <label for="ratingSelect">Ratings</label>
                        <select class="form-control" id="ratingSelect">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5" selected>5</option>
                        </select>
                    </div>
                    <!-- <div class="custom-file col-md-6">
                        <label for="upImage"> Upload an Image</label>
                        <input type="file" class="form-control-file" id="upImage">
                    </div> -->
                </div>
                <div class="form-group">
                    <label for="discription">Discription</label>
                    <textarea class="form-control" id="discription" rows="2"></textarea>
                </div>
            </form>
            <!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
            <button onclick="saveBerry()" class="btn btn-primary" type="submit">Save changes</button>
          </div>
        </div>
    </section>
    <!-- <div class="container" style="margin-top:80px;">
        <section class="col-xs-8">
            <form>
                <div class="form-group row">
                    <div class="col-md-6">
                        <label for="exampleFormControlSelect1">Select Your Berry</label>
                        <select class="form-control" id="exampleFormControlSelect1" required>
                            <option>Strawberry</option>
                            <option>RaspBerry</option>
                            <option>Blackberry</option>
                            <option>Blueberry</option>
                            <option>Lingonberry</option>
                            <option>Gooseberry</option>
                            <option>Cloudberry</option>
                        </select>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-6">
                        <div id="locationField">
                            <label for="autocomplete">Type your location</label>
                            <input id="autocomplete" class="form-control" placeholder="Enter your address" onfocus="geolocate()" type="text"></input>
                        </div>
                    </div>
                </div>
                <div class="form-group row">
                    <div class="col-md-3">
                        <label for="stateName">State</label>
                        <input type="text" class="form-control" id="locality" placeholder="State" required>
                        <div class="invalid-tooltip">
                            Please provide a valid state.
                        </div>
                    </div>
                    <div class="col-md-3">
                        <label for="zipCode">Zip</label>
                        <input type="text" class="form-control" id="postal_code" placeholder="Zip" required>
                        <div class="invalid-tooltip">
                            Please provide a valid zip.
                        </div>
                    </div>
                </div>
                <input type="text" class="form-control" id="lat" name="lat" value="">
                <input type="text" class="form-control" id="lang" name="lang" value="">
                <div class="form-group row">
                    <div class="col-md-6">
                        <label for="ratingSelect">Ratings</label>
                        <select class="form-control" id="ratingSelect">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5" selected>5</option>
                        </select>
                    </div>
                    <div class="custom-file col-md-6">
                        <label for="upImage"> Upload an Image</label>
                        <input type="file" class="form-control-file" id="upImage">
                    </div>
                </div>
                <div class="form-group">
                    <label for="discription">Discription</label>
                    <textarea class="form-control" id="discription" rows="2"></textarea>
                </div>
            </form>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
            <button onclick="saveBerry()" class="btn btn-primary" type="submit">Save changes</button>
        </section>
    </div> -->



    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcoJ6dchXZAmR3y0r87Gt2p9QPX669xsU&libraries=places&callback=initAutocomplete" async defer></script>

    <script>
        // This example displays an address form, using the autocomplete feature
        // of the Google Places API to help users fill in the information.

        // This example requires the Places library. Include the libraries=places
        // parameter when you first load the API. For example:
        var placeSearch, autocomplete;
        var componentForm = {
            locality: 'short_name',
            postal_code: 'short_name'
        };

        function initAutocomplete() {
            // Create the autocomplete object, restricting the search to geographical
            // location types.
            autocomplete = new google.maps.places.Autocomplete(
                /** @type {!HTMLInputElement} */(document.getElementById('autocomplete')),
                { types: ['geocode'] });

            // When the user selects an address from the dropdown, populate the address
            // fields in the form.
            autocomplete.addListener('place_changed', fillInAddress);
        }

        function fillInAddress() {
            // Get the place details from the autocomplete object.
            var place = autocomplete.getPlace();

            for (var component in componentForm) {
                document.getElementById(component).value = '';
                document.getElementById(component).disabled = false;
            }

            // Get each component of the address from the place details
            // and fill the corresponding field on the form.
            for (var i = 0; i < place.address_components.length; i++) {
                var addressType = place.address_components[i].types[0];
                if (componentForm[addressType]) {
                    var val = place.address_components[i][componentForm[addressType]];
                    document.getElementById(addressType).value = val;
                }
            }
            document.getElementById("lat").value = place.geometry.location.lat() 
            document.getElementById("lang").value = place.geometry.location.lng();
            //document.getElementById("lang").value = place.geometry.location.lng();

            console.log("new localtion: " + place.geometry.location.lat() + " - " + place.geometry.location.lng())
        }


        // Bias the autocomplete object to the user's geographical location,
        // as supplied by the browser's 'navigator.geolocation' object.
        function geolocate() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(function (position) {
                    var geolocation = {
                        lat: position.coords.latitude,
                        lng: position.coords.longitude
                    };
                    var circle = new google.maps.Circle({
                        center: geolocation,
                        radius: position.coords.accuracy
                    });
                    autocomplete.setBounds(circle.getBounds());
                });
            }
        }
    </script>
</body>
</html>